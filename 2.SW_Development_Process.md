# 2. 소프트웨어 개발 프로세스

## 2.1 개발 계약

MISRA 지침을 채택하고 적용하기로 결정하는 것은 프로젝트의 초기 단계에서 이루어져야 한다. MISRA 지침의 적용은 일반적으로 두 당사자 간의 계약적 합의사항 중 하나로 포함된다. 한 당사자는 프로젝트를 의뢰하는 조직(수주자)이고, 다른 한 당사자는 코드를 개발하는 조직(공급자)이다. 이 두 당사자는 상이한 상업적 실체일 수 있으며, 동일한 조직 내의 다른 부서일 수도 있다. 두 당사자는 MISRA 지침의 준수를 보장하는 작업에 적극적으로 참여해야 한다. MISRA 준수는 엄격하게 정의된 개념이 아니며, 수용 기준은 협상을 통해 결정된다. 그러나 준수의 개념이 신뢰성을 가질 수 있도록 해야 하는 몇 가지 명확한 원칙들이 존재한다.

## 2.2 프레임워크

MISRA 지침은 문서화된 소프트웨어 개발 프로세스의 프레임워크 내에서 사용되어야 한다. 이는 예를 들어 다음과 같은 사항을 보장할 수 있는 프로세스가 마련될 때 가장 큰 이점을 제공한다:

- 소프트웨어 요구 사항이 완전하고 명확하며 정확한지 확인
- 코딩 단계로 넘어가기 전에 설계 사양이 요구 사항과 일치하고, 다른 기능이 포함되지 않았는지 확인
- 컴파일러에서 생성된 객체 모듈이 해당 설계에서 지정한 대로 작동하는지 확인
- 객체 모듈이 개별적으로 또는 함께 테스트되어 오류를 식별하고 제거하는지 확인

MISRA 지침 준수는 코드 개발 단계의 필수 구성 요소여야 하며, 준수 요구 사항은 코드가 리뷰 또는 유닛 테스트를 위해 제출되기 전에 충족되어야 한다. 준수를 후속 단계에서 확인하려는 프로젝트는 코드 수정, 재검토 및 재테스트에 많은 시간이 소요될 수 있으며, 이로 인해 우연히 결함이 도입될 위험이 있다. 코드가 개발되는 동안 지속적으로 준수 여부를 확인해야 하며, "체크리스트" 형태로 최종 전달 단계에서 완료하는 방식은 지양해야 한다.

기존에 검증된 코드를 바탕으로 프로젝트가 진행되는 경우, 기존 코드를 리팩토링하여 MISRA 준수를 확보하는 것의 이점이 결함을 초래할 위험보다 클지 여부에 대한 판단이 필요하다.

이 문서는 소프트웨어 개발 프로세스를 완전히 정의하지는 않지만, MISRA 준수를 주장하는 과정에서 최선의 관행을 보이기 위해 포함해야 할 몇 가지 프로세스 활동을 제시한다:

- 교육
- 스타일 가이드
- 메트릭
- 도구 관리

이러한 문제에 대한 모든 결정과 그 이유는 문서화되어야 하며, 수행된 활동에 대한 적절한 기록을 보관해야 한다. 이러한 문서는 필요에 따라 안전성 증명서에 포함될 수 있다.

## 2.3 교육

소스 코드를 작성하는 사람들의 적절한 기술과 능력을 보장하기 위해서는 다음과 같은 사항에 대해 공식적인 교육이 제공되어야 한다:

- 임베디드 애플리케이션을 위한 프로그래밍 언어 사용법
- 고신뢰성, 안전 관련 또는 보안 관련 시스템을 위한 프로그래밍 언어 사용법

컴파일러와 정적 분석 도구는 복잡한 소프트웨어이므로, 이들의 사용에 대한 교육도 고려해야 한다. 특히 정적 분석 도구의 경우, MISRA 지침을 시행하는 데 필요한 교육을 받을 수 있을 것이다.

## 2.4 스타일 가이드

조직은 코드의 정확성에는 직접적인 영향을 미치지 않지만, 소스 코드의 외관에 대한 "하우스 스타일"을 정의하기 위해 내부 스타일 가이드를 시행해야 한다. 이러한 문제는 주관적이며, 일반적으로 다음과 같은 사항을 포함한다:

- 코드 레이아웃 및 들여쓰기 사용
- 중괄호 `{}` 및 블록 구조의 배치
- 명명 규칙
- 주석 사용
- 회사 이름, 저작권 고지 및 기타 표준 파일 헤더 정보 포함

스타일 가이드 요구 사항의 시행은 이 문서의 범위 밖에 있으며, 스타일 가이드에 대한 자세한 정보는 [14]에서 확인할 수 있다.

## 2.5 메트릭

많은 소프트웨어 프로세스 표준에서 코드 리뷰와 테스트에 추가적인 노력이 필요한 코드를 식별하는 수단으로 메트릭 사용을 권장한다. 메트릭은 테스트할 수 없거나 관리하기 어려운 코드를 방지하는 데 사용할 수 있다. 그러나 수집되는 메트릭의 성격과 해당 기준은 산업, 조직 및 프로젝트의 특성에 따라 결정된다. 이 문서에서는 소프트웨어 메트릭에 대한 구체적인 지침을 제공하지 않는다.

소스 코드 메트릭에 대한 자세한 내용은 "Software Metrics: A Rigorous and Practical Approach" (Fenton과 Bieman 저) 및 MISRA의 소프트웨어 메트릭 보고서 [16]에서 확인할 수 있다.

## 2.6 도구 관리

### 2.6.1 컴파일러 선택

이 문서에서 "컴파일러"라는 용어는 "언어 구현"을 의미하며, 컴파일러 자체뿐만 아니라 링크기, 라이브러리 관리자 및 실행 파일 포맷 변환 도구를 포함한다. 프로젝트에 선택된 컴파일러는 선택한 언어 버전에 대한 자립적인 구현 요구 사항을 충족해야 하며, 이 요구 사항을 초과하거나 언어 표준에서 허용한 확장 기능을 제공할 수 있다.

컴파일러가 실제로 자립적인 구현을 준수하는지 확인하기 위해 컴파일러 개발자가 실행한 적합성 테스트 결과를 제공하는 것이 이상적이다.

### 2.6.2 정적 분석 도구 선택

정적 분석 도구를 선택할 때, 이 도구는 가능한 한 많은 지침을 시행할 수 있어야 하며, 전체 프로그램을 검사할 수 있어야 한다. 코드가 MISRA 지침을 준수하는지 점검하는 방법으로 단순히 검토만을 사용할 수는 없으며, 이는 시간 소모가 크고 오류가 발생할 가능성이 높다. 따라서 최소한 하나 이상의 정적 분석 도구를 사용하는 것이 현실적이다.

모든 컴파일러 선택에 적용되는 기준은 정적 분석 도구 선택에도 동일하게 적용된다. 그러나 분석 도구의 검증은 컴파일러의 검증과는 다르다.

### 2.6.3 도구 검증

컴파일러와 정적 분석 도구는 일반적으로 "신뢰된" 프로세스로 간주된다. 이는 도구의 출력에 대해 일정 수준의 신뢰를 바탕으로 사용된다는 의미이다. 도구가 신뢰할 수 있는지를 보장하기 위한 조치를 취하는 것이 중요하다.

### 2.6.4 컴파일러 이해 및 설정

컴파일러는 그 동작을 제어하는 다양한 옵션을 제공할 수 있다. 이 옵션들이 프로젝트에 미치는 영향을 이해하는 것이 중요하다. 잘못 설정된 옵션은 표준에 대한 컴파일러의 적합성에 영향을 미칠 수 있다.

### 2.6.5 정적 분석 도구 이해 및 설정

정적 분석 도구를 사용할 때, 해당 도구의 문서를 검토하여 다음 사항을 이해하는 것이 중요하다:

- 지원하는 언어 버전
- 컴파일러 구현 정의된 동작에 맞게 분석기를 설정하는 방법
- 분석기가 검토할 수 있는 MISRA 지침의 범위

### 2.6.6 런타임 동작

소프트웨어 개발 프로세스는 런타임 오류를 피하기 위한 단계와 이를 입증하는 절차를 문서화해야 한다. 예를 들어, 계산에 대한 입력 범위를 확인하는 코드를 작성함으로써 산술 오버플로우와 같은 런타임 오류가 없음을 입증해야 한다.
